@using Assignment.Models
@using Microsoft.AspNetCore.Http
@using Microsoft.AspNetCore.Http.Extensions
@using Assignment.Constants

@{string email = Context.Session.GetString(SessionKey.KhachHang.KH_Email);}
@{string fullName = Context.Session.GetString(SessionKey.KhachHang.KH_FullName);}
@{string cart = Context.Session.GetString("cart");}

@if (email != null && email != "")
{
    <li class="menu-active"><a asp-action="Index" asp-controller="Home">Home</a></li>
    <li class="menu-has-children">
        <a href="/Home/Menu">Menu</a>
        <ul>
            <li><a href="/Home/One">Món</a></li>
            <li><a href="/Home/Combo">Combo</a></li>
        </ul>
    </li>
    <li><a href="/Home/Cart">Giỏ hàng</a></li>
    <li><a href="/Home/Contact">Liên hệ</a></li>
    <li><a href="/Home/Info">@fullName!</a></li>
    <li><a href="/Home/History">Đơn hàng </a></li>
    <li>
        <a href="javascript:Logout();">Logout</a>
        @*<form asp-area="" asp-controller="Home" asp-action="Logout" method="post" id="logoutForm">
                <a><button id="logout" type="submit" style="display:contents;">Logout</button></a>
            </form>*@
    </li>
}
else
{
    <li class="menu-active"><a asp-action="Index" asp-controller="Home">Home</a></li>
    <li class="menu-has-children">
        <a href="/Home/Menu">Menu</a>
        <ul>
            <li><a href="/Home/One">Món</a></li>
            <li><a href="/Home/Combo">Combo</a></li>
        </ul>
    </li>
    <li><a href="/Home/Cart">Giỏ hàng</a></li>
    <li><a asp-action="Login" asp-controller="Home">Đăng nhập</a></li>
    <li><a href="/Home/Register">Đăng ký</a></li>
    <li><a href="/Home/Contact">Liên hệ</a></li>
}

<script>
    function Logout() {
        $.ajax({
            type: "POST",
            url: "/Home/Logout",
            data: {
            },
            success: function (result) {
                window.location = "/Home/Index";
            }
        });
    }
</script>
@*</ul>*@


